# Chrony External NTP Configuration
# All nodes use external NTP servers directly

# External NTP servers
{% for server in external_ntp_servers %}
server {{ server }} iburst
{% endfor %}

# Location of drift and log files
driftfile /var/lib/chrony/drift
logdir /var/log/chrony

# Select which information is logged
log measurements statistics tracking

# Stop bad estimates upsetting machine clock
maxupdateskew 100.0

# Enable kernel synchronization of the real-time clock (RTC)
rtcsync

# Step the system clock instead of slewing it if the adjustment is larger than
# one second, but only in the first three clock updates
makestep 1 3

# Enable hardware timestamping on all interfaces that support it
#hwtimestamp *

# Allow for large clock adjustments
maxchange 1000 1 2